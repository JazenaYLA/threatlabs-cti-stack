services:
  lacus:
    image: ail-project/lacus:latest
    container_name: lacus
    restart: unless-stopped
    ports:
      - "7100:7100" # Lacus API/Web UI
    volumes:
      - ./vol/lacus-data:/lacus/data
      - ./vol/lacus-cache:/lacus/cache
    environment:
      - LACUS_HOME=/lacus
    networks:
      - cti-net
    healthcheck:
      test: [ "CMD", "curl", "-f", "http://localhost:7100" ]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s # Playwright installation takes time

networks:
  cti-net:
    external: true
    name: cti-net
